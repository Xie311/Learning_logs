# Linux命令行常用指令

参考文档：菜鸟教程 [https://www.runoob.com/w3cnote/linux-common-command-2.html](https://www.runoob.com/w3cnote/linux-common-command-2.html)

**学习Linux，本质上是学习在命令行下熟练使用Linux的各类命令**

* 命令行：即Linux终端（Terminal），是一种命令提示符界面，以字符形式操作系统。
* 命令：Linux命令的本体就是一个个二进制可执行程序，相当于Windows中的.exe文件，命令没有图形化界面，而是在命令行中提供字符化的反馈。

#### 命令的基础格式

```
command [-options] [parameter]
```

* command：命令本身
* -options：[可选，非必填] 控制命令的行为细节，**选项可以组合使用**
* param：[可选，非必填] 命令的参数，多用于命令的指向目标

比如

```
ls -l /home/itheima
cp -r test1 test2
```

ls为命令本身，-l是选项，/home/itheima是参数，即以列表形式显示/home/itheima目录内的内容

cp为命令本身，-r是选项，test1 test2是参数，即复制文件夹test1成为test2

---

#### ls命令

ls命令的作用是列出目录下的内容，语法细节如下：

```
ls [-a -l -h] [Linux路径]
```

* ls（不添加任何选项或参数）：以平铺形式列出**当前工作目录下**的内容
* 参数：不加时为当前工作目录，其中命令行刚打开时默认为home目录；/ 列出根目录内容；具体路径列出相应目录下的内容
* 选项-a：all，即列出全部文件，包括隐藏文件/文件夹 （ps：名字前带小点的为隐藏文件/文件夹） 也就是说ls -a列出的文件会多于ls所列出文件
* 选项-l：以列表形式（竖向）列出文件，并显示更多信息，如创建时间，大小，用户组，权限等等
* 选项-h：在-l的基础上显示文件大小的单位，注意-h一定要与-l一起使用，否则没有任何效果

选项组合使用时如-a-l, -al, -la 表示一个意思，即以竖向列表形式显示所有内容

同理，-a-l-h 等价于 -alh 等价于 -ahl 等价于 -lha (排列组合)

---

#### cd/pwd命令

* cd：change directory 用于更改工作目录。cd命令无需选项，只有参数；参数也没有时表示回到home目录下

```
cd [Linux路径]
```

```
cd     #回到home目录
cd /   #切换到根目录
```

* pwd： print work directory  用于查看当前所在工作目录（绝对路径）。无选项无参数，直接输入pwd即可

***ps：描述路径的两种方式：***

***绝对路径：以根目录为起点，路径描述以/开头，如/home/86169/Desktop***

***相对路径：以当前工作目录为起点，路径描述无需以/开头，如若当前在home目录，只需cd Desktop 即可***

***特殊路径符：***

* ***.   表示当前目录， 如cd ./Desktop 表示切换到当前目录下的Desktop目录内，与cd Desktop效果相同***
* ***..  表示上一级目录，比如： cd .. 即可切换到上一级目录  cd../..切换到上两级目录，更多级同理；cd ../test/homework.txt表示打开上一级目录中的test目录中的homework.txt文件***
* ***~ 表示home目录，如：cd ~可切换到home目录；cd ~/Desktop即进入home目录下的Desktop目录***

***（.之前有空格！！注意空格注意空格注意空格！！！)***

---

#### mkdir命令

mkdir：make directory 创建新目录（文件夹）

```
mkdir [-p] [Linux路径]
```

参数必填，相对绝对均可，特殊路径符也可用；-p选项可选，表示自动创建不存在的父目录，适用于创建连续多层级的目录

例如

```
mkdir test01    #在当前目录创建
mkdir /home/zyt_brain/test01
mkdir ~/test01
mkdir -p tests/test01/experiment   #在工作目录下连续创建多级文件夹
```

*注意创建文件操作需要在home目录以下进行，否则会出现权限问题*

---

#### touch命令

touch用于创建**文件，**无选项，参数必填

```
touch [Linux路径]
```

写法与无选项的mkdir基本一致

***注意如何分辨文件夹与文件***

* ***ls后显示为蓝色的是文件夹，白色为文件***
* ***ls -l后最前面的文件信息中以d开头的是文件夹，以-开头的是文件***

---

#### cat/more命令

cat用于查看文件内容，无选项，参数必填

more用法一致，区别是查看内容时可以一页一页显示，适用于查看内容更多的文件（按空格翻页，按B退格，也可以用上下箭头翻页，按q推出查看）

```
cat [Linux路径]
more [Linux路径]
```

---

#### cp命令

cp：copy 复制文件或文件夹

```
cp [-r] [参数1] [参数2]
```

* -r:可选，在复制文件夹时使用，表示递归
* 参数1，Linux路径，表示被复制的文件或文件夹
* 参数2，Linux路径，表示要复制去的地方

---

#### mv命令

mv：move 移动文件/文件夹，无选项

```
mv [参数1] [参数2]
```

参数2是移动的目标位置，若不存在则会自动改名

---

#### rm命令

rm:remove 用于删除文件/文件夹

```
rm [-r -f] 参数1 参数2 参数3....(无限数量)
```

* 与cp一样，-r表示删除对象为文件夹；-f表示force，强制删除，不弹出提示信息，一般不会用到（对普通用户没有作用）
  带-r时会同时删除参数所指的**文件和文件夹；但是不带-r时只能删除文件**
* 参数数量不限，可以一次性删除多个文件/文件夹
* ***rm的参数支持通配符*，用来做模糊匹配**
  符号表示通配符，即匹配任意内容
  test\*表示匹配任何以test开头的内容；\*test表示任何以test结尾的内容；\*test\*表示匹配任何包含test的内容
  比如 rm -r \*test*  表示删除任何名字包含test的文件夹

千万不要在Linux上运行以下代码：（尤其是以root用户）

```
rm -rf /
rm -rf /*  #删除根目录下的所有文件 相当于Windows的c盘格式化
```

---

#### which命令

> Linux命令的本体就是一个个二进制可执行程序，可以用which命令查看所使用的一系列命令的程序文件存放在哪里

语法：which [要查找的命令]

---

#### find命令

find用于搜索指定的**文件**，有两种方式，一个是按文件名字查找，一个是按文件大小查找

```
find [起始路径] -name "被查找文件名"         #起始路径确定了搜索的范围，如\ 表示在根目录下搜索；-name表示选择了按名字搜索的模式
find / -name "test"                        #示例
find / -name "*test*"			   #查找文件名也适用通配符，查找名字中包含/开头/结尾有test的文件

find [起始路径] -size [+/-]n[kMG]           #-size表示按大小搜索，+表示大于，-表示小于，n是大小数字，k/M/G表示单位，其中注意只有k小写
find / -size +100M                         #表示在根目录下搜索大小大于100M的文件

```

*ps.为获得最大的搜索权限，可以用命令 `su - root`切换到root用户，获得管理员权限，用exit命令可退出*

---

#### echo命令

```
echo 输出的内容
echo hello linux
echo "hello linux"        #比较复杂的语句可以用双引号括起来，尤其是带某些控制字符时
```

相当于linux中的print语句

*反引号\`  也叫飘号，用反引号括起echo的内容，echo``  可以起到类似于python中的eval函数的作用，如echo \pwd`即执行pwd命令*

*重定向符>和>>   >表示将左侧命令的结果覆盖写入符号右侧指定的文件（清除原有内容）*

    >>表示将左侧命令的结果追加写入符号右侧指定的文件中

```
echo "Hello linux" >test.txt    #将Hello linux覆盖写入tese.txt之中
```

并且写入操作其实不仅限于echo  ，其他命令运行后的节果也可以写入文件，如 `ls >>test.txt`即可把列出的工作目录下的内容追加写入txt文件中

---

#### tail命令

tail用于查看文件尾部内容，跟踪文件的最新更改

```
tail [-f -num] Linux路径
```

选项-f表示持续跟踪，-num表示查看尾部多少行，不填默认为10行（-num的num代表一个具体的数字）

```
tail test.txt            #查看该文件的后10行内容
tail -5 test.txt         #查看该文件的后5行内容
tail -f test.txt         #持续跟踪，命令运行后不会终止，需要新开一个窗口对文件进行编辑，然后即可实时看到该文件中的更改 ctrl+c可以退出

```

---

#### grep命令

grep：用于从文件中通过关键字过滤文件行，有一个可选选项，两个参数

```
grep [-n] 关键字 文件路径
```

* -n选项，可选，表示在结果中显示所匹配的文件行的行号
* 关键字，必填参数，表示过滤所用的关键字，最好用""括起来，尤其是带有空格等特殊符号时
* 文件路径，必填参数，表示所要过滤的文件 *可作为内容输入端口*

---

#### wc命令

wc：用于统计文件的行数，单词数量等

```
wc [-c -m -l -w] 文件路径
```

* 选项-c 统计bytes的数量
* 选项-m 统计字符的数量
* 选项-l 统计行数
* 选项-w 统计单词数量
* 选项不选时 同时统计行数，单词数，字节数。
* 参数，文件路径，表示被统计的文件 *可作为内容输入端口*

*******管道符 | 的作用**

**管道符可将左边的结果作为右边的输入  即将左边的结果作为右边命令的对象**

```
test.txt | grep "trial"		#将test.txt作为所要过滤的文件
ls -l | grep test		#将ls的内容中带有test字眼的东西过滤出来 （是的也可以过滤文件名）
ls ./user/bin | grep test
ls -l /user/bin | wc -l		#统计左边列出的内容的行数（相当于借此统计bin中的文件数量）
```

**管道符也是可以嵌套的**

```
ls | grep test | grep trial    #“左边的结果作为右边的输入”，故这样的写法就可以使ls的结果先经test的过滤再经过trial的过滤，实现多级嵌套
```

---

#### linux的权限问题

Linux，Windows，Mac系统都采用多用户的管理模式进行权限管理，在Linux中拥有最大权限的账户名为root（超级管理员），而我们平常使用的账户是普通用户zyt_brain；普通用户的权限一般局限于home目录中，若要在根目录下进行**修改**，则需要切换至root用户

***切换账户的命令su***

su：switch user 是用于切换账户的系统命令

```
su [-] [user name]
```

* -符号是可选的，表示在切换用户后是否加载环境变量，一般要带上
* 用户名：参数，表示要切换的用户，省略时自动切换为root用户
* 切换用户后可以通过exit命令切换到上一个用户，也可以使用快捷键ctrl+d

***sudo命令***

切换到root用户可以获得最大权限，但是不建议长期使用root用户，避免带来系统损坏；我们可以使用sudo命令，为普通命令授权，临时以root身份执行

```
sudo 其他命令
```

在其他命令前带上sudo可为这一条命令临时赋予root权限，但是要想使用sudo需要为普通用户配置sudo认证：

切换到root用户，执行visudo命令，会自动打开/etc/sudoers                  //但是为什么我切换不了..........

在文件最后添加：zyt_brain ALL=(ALL)		NOPASSWD:ALL

最后通过wq保存

切换回普通用户即可使用sudo

> ps：itheima使用的系统是centOS，可能和Ubuntu有所不同，目前vmware和wsl都已经可以使用sudo了，所以暂时不用担心

---

#### 软件下载

```
sudo apt install [软件名]
```

比如 sudo apt install libopencv
